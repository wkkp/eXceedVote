@(projects:List[Project], criteria:List[Criteria], projectForm: Form[Project],ballotForm: Form[Ballot], user: User)

@import helper._
<!--<link href="http://cdn.kendostatic.com/2012.3.1114/styles/kendo.common.min.css" rel="stylesheet" />
<link href="http://cdn.kendostatic.com/2012.3.1114/styles/kendo.rtl.min.css" rel="stylesheet" />
<link href="http://cdn.kendostatic.com/2012.3.1114/styles/kendo.default.min.css" rel="stylesheet" />
<link href="http://cdn.kendostatic.com/2012.3.1114/styles/kendo.dataviz.min.css" rel="stylesheet" />
<link href="http://cdn.kendostatic.com/2012.3.1114/styles/kendo.dataviz.default.min.css" rel="stylesheet" />-
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://cdn.kendostatic.com/2012.3.1114/js/kendo.all.min.js"></script>-->

<!DOCTYPE html>

@main("Vote", user) {
<h3>You have @user.ballotqnty ballot(s)</h3>
<div class="span12">
	<div class="projectlist" align="center">
		<h2>Total : @projects.size() project(s)</h2>
		<table class="table table-striped">
			<thead>
				<tr>
					<th>ID</th>
					<th>Project Name</th>
					<th>Project Description</th>
					<th>Vote</th>
				</tr> 
			</thead>
			<tbody>
				@for(project <- projects) {
				<tr>
					<td>@project.id</td>
					<td>@project.name</td>
					<td>@project.description</td>
					<td>

					@if(user.ballotqnty > 0) {
						<!-- Button to trigger modal -->
						<a href="#" onclick="selectCriteria()" class="selectTeam">
							<button onclick="savepjid(document.getElementById('@project.id').value)" class="btn btn-success" type="submit" value="@project.id">
								Choose
							</button>
						</a>
					}
					</td>
				</tr>
			}
		</tbody>
	</table>
	</div>

<script type="text/javascript">
	var pjid;
	
	function savepjid(x) {
		pjid = x;
	}

	function getpjid() {
		document.getElementById("pjclt").setAttribute("value", pjid);
		alert(document.getElementById("fn").value);
		alert(document.getElementById(document.getElementById("fn").value).value);
		document.getElementById("scclt").setAttribute("value", document.getElementById(document.getElementById("fn").value).value);
	}

$(document).ready(function(){

	$(".slidingDiv").hide();

	$('.selectTeam').click(function(){
		$(".projectlist").slideToggle(500);
		$(".slidingDiv").slideToggle();
	});

	$('.backToProject').click(function(){
		$(".projectlist").slideToggle();
		// $(".projectlist").slideToggle();
		$(".slidingDiv").slideToggle(500);
	});

});

</script>


<div class="slidingDiv"> 
	<a href="#" class="backToProject"><button class="btn btn-info">Back To ProjectList</button></a>
	<h3 id="myModalLabel">Choose Criteria for team XXX</h3>

	<div class="span9">
		<table class="table table-striped" align="center">
			<thead>
				<tr>
					<th>ID</th>
					<th>Criteria</th>
					<th>Score (MAX:10)</th>
					<th>Vote</th>
				</tr> 
			</thead>
			<tbody>
				@form(routes.VoteController.voteForProject()) {
				@for(ct <- criteria) {
				<tr>
					<td>@ct.id</td>
					<td>@ct.name</td>
					<td>
						<div>
							<input maxlength="2" size="4" id="@ct.id"></input>
						</div>
					</td>
					<td>
						<input id="scclt" name="score" type="hidden"></input>
							<input name="user_id" value="@user.id" type="hidden"></input>
							<input id="pjclt" name="project_id" type="hidden"></input>
							<!--<input id="rscore" name="score" type="hidden"></input>-->
							<button onclick="getpjid()" id="fn" class="btn btn-mini btn-primary" name="criteria_id" value="@ct.id">VOTE</button>
					</td>
					
				</tr>
				}
				}
			</tbody>
		</table>
	</div> <!-- span6-->
</div>
</div>
}
